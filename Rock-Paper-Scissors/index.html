<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors</title>
</head>

<body>
  <div class = "keys">
    <button id = "rock"> Rock </button>
    <button id = "paper"> Paper </button>
    <button id = "scissors"> Scissors </button>
    
  </div>
</body>

<script>

    // global variables
    let playerScore = 0;
    let computerScore = 0;

    const btns = document.querySelectorAll('button');

    function computerPlay() {
        let choice = Math.floor(Math.random() * 3); // 0 - 2 | adding an int would apply to the min value in range
        if (choice == 0)
            return "rock"
        else if (choice == 1)
            return "paper"
        else if (choice == 2)
            return "scissors"
    }

    function playRound(playerSelection, computerSelection) {
        // Declare local variables for player and computer
        // Make sure function is case insensitive
        let player = playerSelection.toLowerCase();
        let computer = computerSelection.toLowerCase();
        
        // Determines a draw
        if (player === computer) {
            console.log('Draw! ' + player + ' ties ' + computer + '!'); return;
        }

        switch (player) {
            case "rock":
                if (computer === "paper") {
                    ++computerScore
                    console.log("You lose! " + computer + " beats " + player); break;
                } else if (computer === "scissors") 
                    ++playerScore
                    console.log("You win! " + player + " beats " + computer); break;
            case "paper":
                if (computer === "rock") {
                    ++playerScore
                    console.log("You win! " + player + " beats " + computer); break;
                } else if (computer === "scissors") 
                    ++computerScore
                    console.log("You lose! " + computer + " beats " + player); break;
            case "scissors":
                if (computer === "rock") {
                    ++computerScore
                    console.log("You lose! " + computer + " beats " + player); break;
                } else if (computer === "paper")
                    ++playerScore
                    console.log("You win! " + player + " beats " + computer); break;
        }
    }

    function showResults() {

        // Output results nicer
        console.log("\n")
        if (playerScore > computerScore) {
            console.log("You're the winner with " + playerScore + " wins!")
            console.log("Computer loses with " + computerScore + " win(s)!")
        } 
        if (computerScore > playerScore) {
            console.log("Computer is the winner with " + computerScore + " wins!")
            console.log("You're the loser with " + playerScore + " win(s)!")
        }
        if (playerScore == computerScore) {
            console.log("It's a draw! Both with " + playerScore +  " wins!")
        }

        playerScore = 0;
        computerScore = 0;
    }

    btns.forEach((button) => {
        button.addEventListener('click', (e) => {
            playRound(button.id, computerPlay());
            //showResults();
            //playRound(button.id, computerPlay());
            //console.log(computerPlay());
            //console.log(button.id);
        });
    });

</script>

</html>